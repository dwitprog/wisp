"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[239],{757:function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){var t=o({svgId:"soundWave",playBtnSelector:".controls-btn.play",animation:{minMultiplier:.8,maxMultiplier:1.5,speed:.2,fps:30}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),e={isAnimating:!1,animationId:null,lastFrameTime:0,lines:[],originalCoords:[],currentValues:[]},n={svg:null,playBtn:null,pauseSvg:null,startSvg:null,wrapper:null};function i(){e.isAnimating?l.stop():l.start()}function r(n){e.lastFrameTime||(e.lastFrameTime=n);var i=1e3/t.animation.fps;n-e.lastFrameTime>i&&(e.lastFrameTime=n,e.lines.forEach(function(n,i){var r=e.originalCoords[i],o=e.currentValues[i];if(e.isAnimating){var a=o.targetMultiplier-o.multiplier;if(Math.abs(a)>.01)o.multiplier+=a*t.animation.speed;else{var l=t.animation.maxMultiplier-t.animation.minMultiplier;o.targetMultiplier=t.animation.minMultiplier+Math.random()*l}}var s=r.height*o.multiplier,u=r.centerY-s/2,c=r.centerY+s/2;n.setAttribute("y1",u),n.setAttribute("y2",c)})),e.isAnimating&&(e.animationId=requestAnimationFrame(r))}var a={play:[],pause:[],prev:[],next:[]},l={start:function(){e.isAnimating||(e.isAnimating=!0,e.lastFrameTime=0,n.pauseSvg&&(n.pauseSvg.style.display="block",n.startSvg.style.display="none"),n.wrapper&&n.wrapper.classList.add("playing"),e.animationId=requestAnimationFrame(r),l.emit("play"),console.log("SoundWaveVisualizer: Анимация запущена"))},stop:function(){e.isAnimating&&(e.isAnimating=!1,e.animationId&&(cancelAnimationFrame(e.animationId),e.animationId=null),n.pauseSvg&&(n.pauseSvg.style.display="none",n.startSvg.style.display="block"),n.wrapper&&n.wrapper.classList.remove("playing"),l.emit("pause"),console.log("SoundWaveVisualizer: Анимация остановлена"))},restart:function(){l.stop(),setTimeout(function(){return l.start()},100)},updateConfig:function(e){Object.assign(t,e),console.log("SoundWaveVisualizer: Конфигурация обновлена",t)},getState:function(){return{isPlaying:e.isAnimating,config:o({},t)}},on:function(t,e){a[t]&&a[t].push(e)},off:function(t,e){if(a[t]){var n=a[t].indexOf(e);n>-1&&a[t].splice(n,1)}},emit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a[t]&&a[t].forEach(function(n){try{n(e)}catch(e){console.error("SoundWaveVisualizer: Ошибка в обработчике события ".concat(t),e)}})},updateFromAudioData:function(t){if(t&&t.length){var n=Math.min(t.length,e.lines.length),i=Math.floor(t.length/n);e.lines.forEach(function(r,o){if(o<n){var a=e.originalCoords[o],l=Math.min(o*i,t.length-1),s=.5+1.5*(t[l]/255),u=a.height*s,c=a.centerY-u/2,p=a.centerY+u/2;r.setAttribute("y1",c),r.setAttribute("y2",p)}})}},destroy:function(){l.stop(),n.playBtn.removeEventListener("click",i);var t=document.getElementById("sound-wave-visualizer-styles");t&&t.remove(),e.lines=[],e.originalCoords=[],e.currentValues=[],Object.keys(a).forEach(function(t){a[t]=[]}),console.log("SoundWaveVisualizer: Уничтожен")}};return n.svg=document.getElementById(t.svgId),n.playBtn=document.querySelector(t.playBtnSelector),n.svg&&n.playBtn?(n.pauseSvg=n.playBtn.querySelector(".pause"),n.startSvg=n.playBtn.querySelector(".start"),n.wrapper=n.svg.closest(".sound-wrapper"),e.lines=Array.from(n.svg.querySelectorAll("line")),e.originalCoords=e.lines.map(function(t){var e=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("y2"));return{y1:e,y2:n,centerY:(e+n)/2,height:Math.abs(n-e)}}),e.currentValues=e.lines.map(function(){return{multiplier:1,targetMultiplier:1}}),e.lines.forEach(function(t){t.style.transition="none"}),n.pauseSvg&&(n.pauseSvg.style.display="none"),n.startSvg&&(n.startSvg.style.display="block"),function(){n.playBtn.addEventListener("click",i);var t=document.querySelector(".controls-btn.prev"),e=document.querySelector(".controls-btn.next");t&&t.addEventListener("click",function(){return l.emit("prev")}),e&&e.addEventListener("click",function(){return l.emit("next")})}(),function(){var t="sound-wave-visualizer-styles",e=document.getElementById(t);e&&e.remove();var n=document.createElement("style");n.id=t,n.textContent="\n            .sound-wave line {\n                will-change: y1, y2;\n            }\n            \n            .sound-wrapper.playing .sound-wave {\n                filter: drop-shadow(0 0 8px rgba(162, 89, 132, 0.4));\n                transition: filter 0.3s ease;\n            }\n            \n            .sound-wrapper.playing .controls-btn.play {\n                background: rgba(162, 89, 132, 0.3);\n            }\n            \n            .controls-btn {\n                cursor: pointer;\n                transition: all 0.3s ease;\n            }\n            \n            .controls-btn:hover {\n                transform: scale(1.05);\n            }\n            \n            .controls-btn.play:hover {\n                background: rgba(162, 89, 132, 0.25);\n            }\n            \n            .pause line {\n                stroke: #A25984 !important;\n            }\n            \n            .sound-wrapper.playing .pause line {\n                stroke: white !important;\n            }\n        ",document.head.appendChild(n)}(),console.log("SoundWaveVisualizer: Инициализирован"),l):(console.error("SoundWaveVisualizer: Не найдены необходимые элементы"),null)}n.d(e,{L:function(){return l}})},959:function(t,e,n){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".faq-accordion",e=document.querySelector(t);e?(e.querySelectorAll(".item").forEach(function(t){var e=t.querySelector(".content");if(e){var n=window.getComputedStyle(e);e.dataset.paddingTop=n.paddingTop,e.dataset.paddingBottom=n.paddingBottom,e.style.display="grid",e.style.gridTemplateRows="0fr",e.style.transition="grid-template-rows 0.5s ease, opacity 0.5s ease",e.style.opacity="0",e.style.paddingTop="0",e.style.paddingBottom="0";var i=e.firstElementChild;i&&(i.style.overflow="hidden",i.style.minHeight="0"),t.classList.add("closed")}}),e.addEventListener("click",function(t){var n=t.target.closest(".item");if(n&&e.contains(n)){var i=n.querySelector(".content");if(i)n.classList.contains("open")?function(t,e){e.style.gridTemplateRows="0fr",e.style.opacity="0",e.style.paddingTop="0",e.style.paddingBottom="0",t.classList.remove("open"),t.classList.add("closed")}(n,i):function(t,e){e.style.paddingTop=e.dataset.paddingTop,e.style.paddingBottom=e.dataset.paddingBottom,e.style.gridTemplateRows="1fr",e.style.opacity="1",t.classList.remove("closed"),t.classList.add("open")}(n,i)}})):console.warn("FAQ аккордеон: контейнер не найден (".concat(t,")"))}n.d(e,{d:function(){return i}})}}]);